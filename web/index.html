<!DOCTYPE html>
<html>
<head>
    <title>Holy Sheet Web</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <link rel="stylesheet" href="styles.css">
    <script defer src="main.dart.js"></script>
    <link rel="icon" type="image/png" href="https://static.artex.dev/artex.png">

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script src="https://apis.google.com/js/platform.js?onload=start" async defer></script>

    <!-- SEO -->
    <meta property="og:title" content="Holy Sheet Web">
    <meta property="og:site_name" content="Holy Sheet Web">
    <meta property="og:description" content="Webapp for Holy Sheet">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://static.artex.dev/artex.png">

    <script>

        // This is not done in Dart because it must be loaded as soon as possible
        function start() {
            gapi.load('auth2', () => {
                window.auth2 = gapi.auth2.init({
                    client_id: '916425013479-6jdls4crv26mhurj43eakbs72f5e1m8t.apps.googleusercontent.com',
                    scope: 'profile email https://www.googleapis.com/auth/drive'
                });

                auth2.isSignedIn.listen((val) => signInChange(val));
                auth2.currentUser.listen((user) => userChanged(window.googleUser = user));

                if (auth2.isSignedIn.get()) {
                    auth2.signIn();
                    // if (auth2) {
                    window.googleUser = auth2.currentUser.get();
                }
            });
        }

        /**
         * Listener method for sign-out live value.
         *
         * @param {boolean} val the updated signed out state.
         */
        function signInChange(val) {
        }


        /**
         * Listener method for when the user changes.
         *
         * @param {GoogleUser} user the updated user.
         */
        function userChanged(user) {
        }
    </script>
</head>
<body>
<my-app>Loading...</my-app>
</body>
</html>
